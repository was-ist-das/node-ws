<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join The Movement</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;900&family=Noto+Serif+SC:wght@900&family=Playfair+Display:wght@900&family=Roboto:wght@400;900&family=Cinzel:wght@700&display=swap');
        
        .serif-title {
            font-family: 'Times New Roman', 'Noto Serif SC', 'Playfair Display', serif;
        }
        
        .sans-title {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
        }

        .political-gradient {
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
        }
        
        .hero-overlay {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .animate-slide-up {
            animation: slideUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dynamic Theme Colors to be injected via JS */
        :root {
            --primary-color: #1e293b;
            --accent-color: #dc2626;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen flex flex-col font-sans">

    <!-- Navigation / Party Header -->
    <nav class="w-full bg-white border-b-4 border-[var(--accent-color)] shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <!-- Dynamic Logo Placeholder -->
                <div id="party-logo" class="text-[var(--accent-color)]">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 12h3v8h6v-6h2v6h6v-8h3L12 2z"/></svg>
                </div>
                <div class="font-black uppercase tracking-tighter text-xl md:text-2xl" id="party-name">
                    LOADING...
                </div>
            </div>
            <div>
                <button onclick="scrollToSignup()" class="bg-[var(--accent-color)] text-white px-4 py-2 font-bold uppercase text-xs tracking-widest hover:opacity-90 transition-opacity cursor-pointer" id="nav-cta">
                    Join Us
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative bg-[var(--primary-color)] text-white overflow-hidden">
        <div class="absolute inset-0 hero-overlay"></div>
        
        <div class="relative max-w-4xl mx-auto px-4 py-20 md:py-32 flex flex-col items-center text-center">
            <div class="animate-slide-up" style="animation-delay: 0.1s;">
                <span class="inline-block py-1 px-3 border border-white/30 rounded-full text-xs uppercase tracking-widest mb-6 bg-white/10 backdrop-blur-sm" id="hero-tagline">
                    The Official Campaign Website
                </span>
            </div>
            
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-black mb-6 leading-tight serif-title animate-slide-up" style="animation-delay: 0.2s;" id="hero-title">
                Loading Ideology...
            </h1>
            
            <p class="text-lg md:text-2xl text-slate-200 max-w-2xl mb-10 font-light leading-relaxed animate-slide-up" style="animation-delay: 0.3s;" id="hero-subtitle">
                Analyzing region...
            </p>

            <div class="animate-slide-up" style="animation-delay: 0.4s;">
                <a href="#manifesto" class="group inline-flex items-center gap-2 text-white border-b-2 border-white pb-1 hover:text-[var(--accent-color)] hover:border-[var(--accent-color)] transition-all duration-300 font-bold uppercase tracking-widest text-sm">
                    <span id="read-manifesto-btn">Read The Manifesto</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform group-hover:translate-y-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" /></svg>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow" id="manifesto">
        
        <!-- Manifesto Section -->
        <section class="py-20 px-4">
            <div class="max-w-3xl mx-auto">
                <div class="border-l-8 border-[var(--accent-color)] pl-6 md:pl-10 py-2 mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold uppercase text-slate-900 mb-2" id="section-title">Our Core Principles</h2>
                </div>
                
                <div class="prose prose-lg prose-slate text-slate-700" id="main-text">
                    <!-- Content injected here -->
                </div>
            </div>
        </section>

        <!-- Action / Sign Up Section -->
        <section id="signup-section" class="bg-slate-100 py-20 px-4 border-t border-slate-200">
            <div class="max-w-xl mx-auto bg-white shadow-2xl p-8 md:p-12 border-t-8 border-[var(--primary-color)] text-center relative overflow-hidden">
                
                <!-- Watermark -->
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-[var(--accent-color)] to-[var(--primary-color)]"></div>

                <h3 class="text-3xl font-black uppercase mb-4 text-slate-900" id="cta-title">Stand With Us</h3>
                <p class="text-slate-500 mb-8" id="cta-desc">Add your voice to the thousands who have already joined.</p>
                
                <div class="space-y-4 text-left">
                    <div>
                        <input id="email-input" type="text" placeholder="email@example.com" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 focus:border-[var(--primary-color)] focus:ring-2 focus:ring-[var(--primary-color)]/20 outline-none transition-all placeholder:text-slate-400 text-slate-900">
                        <p id="error-msg" class="hidden text-red-600 text-xs mt-2 font-bold uppercase tracking-wide"></p>
                    </div>
                    
                    <button onclick="registerSupport()" class="w-full bg-[var(--primary-color)] hover:bg-slate-800 text-white py-4 font-bold uppercase tracking-widest shadow-lg transform active:scale-95 transition-all duration-200 flex items-center justify-center gap-2 group cursor-pointer">
                        <span id="cta-button">Join The Movement</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                    </button>
                </div>

                <p class="mt-6 text-xs text-slate-400" id="cta-disclaimer">
                    By joining, you agree to receive updates from the central committee.
                </p>
                
                <!-- Success Message (Hidden) -->
                <div id="success-msg" class="hidden absolute inset-0 bg-white flex flex-col items-center justify-center p-8 text-green-700 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span class="font-bold text-xl uppercase" id="success-title">Registered</span>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-[var(--primary-color)] text-slate-400 py-12 border-t border-slate-800">
        <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-6 text-sm">
            <div class="font-bold uppercase tracking-widest text-white" id="footer-party-name">
                Political Organization
            </div>
            <div class="flex gap-6">
                <a href="#" class="hover:text-white transition-colors" id="footer-link-privacy">Privacy</a>
                <a href="#" class="hover:text-white transition-colors" id="footer-link-contact">Contact</a>
                <a href="#" class="hover:text-white transition-colors" id="footer-link-media">Media</a>
            </div>
            <div class="text-xs opacity-50">
                &copy; 2024 <span id="copyright-org">Organization</span>. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // Content Database: "Nationalist/Political" Themes
        
        const ideologies = {
            // Simplified Chinese (China/Singapore/Malaysia)
            'zh-CN': {
                partyName: "华夏文明复兴阵线",
                colors: { primary: "#8B0000", accent: "#FFD700" }, // Red & Gold
                heroTagline: "传承 · 秩序 · 荣耀",
                heroTitle: "让文明再次伟大",
                heroSubtitle: "五千年的历史不是包袱，而是我们重新屹立于世界之巅的基石。",
                manifestoBtn: "阅读复兴纲领",
                sectionTitle: "我们的主张",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        "天地玄黄，宇宙洪荒。大国崛起，当仁不让。"
                    </p>
                    <p class="mb-4">
                        在这个充满动荡与变革的时代，外来文化的冲击正在侵蚀我们的精神根基。我们必须清醒地认识到：只有坚持<strong>华夏文化的主体性</strong>，才能在世界民族之林中赢得真正的尊重。
                    </p>
                    <p class="mb-4">
                        复兴不仅仅是经济的增长，更是<strong>文化自信</strong>的回归。我们反对盲目的西化，主张从传统经典中汲取治理社会的智慧。家庭伦理、集体荣誉、以及对历史的敬畏，是我们社会稳定的定海神针。
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        加入我们，为子孙后代守护这片古老的土地和精神家园。
                    </p>
                `,
                ctaTitle: "加入阵线",
                ctaDesc: "成为复兴运动的一员，这是属于你的时代责任。",
                ctaBtn: "立即加入",
                ctaDisclaimer: "提交即代表您认同本阵线的纲领与章程。",
                footerOrg: "华夏文明复兴阵线中央委员会",
                navCta: "加入我们",
                footerPrivacy: "隐私政策",
                footerContact: "联系我们",
                footerMedia: "媒体中心",
                successTitle: "注册成功",
                errorEmpty: "邮箱不能为空",
                errorInvalid: "请输入有效的邮箱地址"
            },

            // Traditional Chinese (Taiwan) - Default for generic 'zh'
            'zh-TW': {
                partyName: "華夏文明復興陣線",
                colors: { primary: "#8B0000", accent: "#FFD700" }, 
                heroTagline: "傳承 · 秩序 · 榮耀",
                heroTitle: "讓文明再次偉大",
                heroSubtitle: "五千年的歷史不是包袱，而是我們重新屹立於世界之巔的基石。",
                manifestoBtn: "閱讀復興綱領",
                sectionTitle: "我們的主張",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        "天地玄黃，宇宙洪荒。大國崛起，當仁不讓。"
                    </p>
                    <p class="mb-4">
                        在這個充滿動盪與變革的時代，外來文化的衝擊正在侵蝕我們的精神根基。我們必須清醒地認識到：只有堅持<strong>華夏文化的主體性</strong>，才能在世界民族之林中贏得真正的尊重。
                    </p>
                    <p class="mb-4">
                        復興不僅僅是經濟的增長，更是<strong>文化自信</strong>的回歸。我們反對盲目的西化，主張從傳統經典中汲取治理社會的智慧。家庭倫理、集體榮譽、以及對歷史的敬畏，是我們社會穩定的定海神針。
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        加入我們，為子孫後代守護這片古老的土地和精神家園。
                    </p>
                `,
                ctaTitle: "加入陣線",
                ctaDesc: "成為復興運動的一員，這是屬於你的時代責任。",
                ctaBtn: "立即加入",
                ctaDisclaimer: "提交即代表您認同本陣線的綱領與章程。",
                footerOrg: "華夏文明復興陣線中央委員會",
                navCta: "加入我們",
                footerPrivacy: "隱私政策",
                footerContact: "聯繫我們",
                footerMedia: "媒體中心",
                successTitle: "註冊成功",
                errorEmpty: "電子郵件不能為空",
                errorInvalid: "請輸入有效的電子郵件地址"
            },

            // Traditional Chinese (Hong Kong) - Cantonese Vernacular
            'zh-HK': {
                partyName: "華夏文明復興陣線",
                colors: { primary: "#8B0000", accent: "#FFD700" },
                heroTagline: "傳承 · 秩序 · 榮耀",
                heroTitle: "令文明再次偉大",
                heroSubtitle: "五千年嘅歷史唔係包袱，而係我哋重新屹立於世界之巔嘅基石。",
                manifestoBtn: "閱讀復興綱領",
                sectionTitle: "我哋嘅主張",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        "天地玄黃，宇宙洪荒。大國崛起，當仁不讓。"
                    </p>
                    <p class="mb-4">
                        喺呢個充滿動盪同變革嘅時代，外來文化嘅衝擊正喺度侵蝕緊我哋嘅精神根基。我哋一定要清醒咁認識到：只有堅持<strong>華夏文化嘅主體性</strong>，先可以喺世界民族之林中贏得真正嘅尊重。
                    </p>
                    <p class="mb-4">
                        復興唔單止係經濟增長，更加係<strong>文化自信</strong>嘅回歸。我哋反對盲目西化，主張由傳統經典之中汲取治理社會嘅智慧。家庭倫理、集體榮譽、同埋對歷史嘅敬畏，係我哋社會穩定嘅定海神針。
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        加入我哋，為咗子孫後代守護呢片古老嘅土地同精神家園。
                    </p>
                `,
                ctaTitle: "加入陣線",
                ctaDesc: "成為復興運動嘅一員，呢個係屬於你嘅時代責任。",
                ctaBtn: "立即加入",
                ctaDisclaimer: "提交即代表你認同本陣線嘅綱領同章程。",
                footerOrg: "華夏文明復興陣線中央委員會",
                navCta: "加入我哋",
                footerPrivacy: "私隱政策",
                footerContact: "聯絡我哋",
                footerMedia: "媒體中心",
                successTitle: "註冊成功",
                errorEmpty: "電郵地址唔可以留空",
                errorInvalid: "請輸入有效嘅電郵地址"
            },

            // French: Gaullist / Sovereignist Theme
            'fr': {
                partyName: "Mouvement pour la France",
                colors: { primary: "#002654", accent: "#ED2939" }, // Bleu de France & Red
                heroTagline: "Souveraineté · Identité · Liberté",
                heroTitle: "La France d'Abord",
                heroSubtitle: "Il est temps de reprendre notre destin en main et de protéger notre héritage exceptionnel.",
                manifestoBtn: "Lire le Manifeste",
                sectionTitle: "Nos Valeurs",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        « Une certaine idée de la France. »
                    </p>
                    <p class="mb-4">
                        La France n'est pas une simple zone administrative, c'est une civilisation. Face à la mondialisation effrénée qui efface les frontières et dilue les cultures, nous affirmons que la <strong>préservation de notre langue</strong> et de notre mode de vie est un droit inaliénable.
                    </p>
                    <p class="mb-4">
                        Nous refusons la soumission aux technocrates étrangers. La loi française doit être supérieure à toute autre. L'école républicaine doit redevenir le sanctuaire de la transmission du savoir et de l'assimilation.
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        Rejoignez ceux qui ne renonceront jamais à la grandeur de la France.
                    </p>
                `,
                ctaTitle: "Engagez-vous",
                ctaDesc: "Défendez vos valeurs. Rejoignez le mouvement dès aujourd'hui.",
                ctaBtn: "Je Soutiens la France",
                ctaDisclaimer: "En vous inscrivant, vous adhérez à la charte patriotique.",
                footerOrg: "Bureau National du Mouvement",
                // New Localized Keys
                navCta: "REJOIGNEZ-NOUS",
                footerPrivacy: "Confidentialité",
                footerContact: "Contact",
                footerMedia: "Médias",
                successTitle: "ENREGISTRÉ",
                errorEmpty: "L'email est obligatoire",
                errorInvalid: "Veuillez entrer une adresse email valide"
            },

            // English: Anglosphere Conservatism / Sovereignty Theme
            'en': {
                partyName: "The Heritage Alliance",
                colors: { primary: "#1a365d", accent: "#c53030" }, // Navy & Red
                heroTagline: "Sovereignty · Tradition · Security",
                heroTitle: "Protect Our Future",
                heroSubtitle: "A nation without borders is no nation at all. It's time to put our citizens first.",
                manifestoBtn: "Read Our Platform",
                sectionTitle: "Why We Fight",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        "Eternal vigilance is the price of liberty."
                    </p>
                    <p class="mb-4">
                        Common sense has been abandoned. Our traditions are under siege, and our communities are being ignored. We believe in a government that serves its own people above global interests.
                    </p>
                    <p class="mb-4">
                        We stand for <strong>secure borders</strong>, <strong>strong families</strong>, and the constitutional rights that made us free. We reject the rewriting of our history and the erosion of our national identity.
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        If you believe in preserving our way of life, you are one of us.
                    </p>
                `,
                ctaTitle: "Stand With Us",
                ctaDesc: "Don't sit on the sidelines. Claim your heritage.",
                ctaBtn: "Join The Alliance",
                ctaDisclaimer: "By joining, you agree to receive campaign updates.",
                footerOrg: "Heritage Alliance HQ",
                // New Localized Keys
                navCta: "JOIN US",
                footerPrivacy: "Privacy",
                footerContact: "Contact",
                footerMedia: "Media",
                successTitle: "Registered",
                errorEmpty: "Email cannot be empty",
                errorInvalid: "Please enter a valid email address"
            },

            // German: Heimat / Stability Theme
            'de': {
                partyName: "Bündnis für Heimat",
                colors: { primary: "#000000", accent: "#DD0000" }, // German Flag colors (Black/Red)
                heroTagline: "Einigkeit · Recht · Freiheit",
                heroTitle: "Für Unsere Heimat",
                heroSubtitle: "Bewahrung der Identität in einer sich wandelnden Welt. Sicherheit für unsere Familien.",
                manifestoBtn: "Zum Programm",
                sectionTitle: "Unsere Grundsätze",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        „Mut zur Verantwortung.“
                    </p>
                    <p class="mb-4">
                        Heimat ist nicht verhandelbar. In Zeiten der Unsicherheit brauchen wir klare Werte und feste Wurzeln. Wir setzen uns ein für den Erhalt unserer <strong>kulturellen Identität</strong> und sozialen Stabilität.
                    </p>
                    <p class="mb-4">
                        Wir fordern eine Politik, die die Interessen der eigenen Bürger in den Mittelpunkt stellt. Tradition und Fortschritt sind keine Gegensätze – sie bedingen einander. Nur wer weiß, woher er kommt, weiß, wohin er geht.
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        Setzen Sie ein Zeichen für Vernunft und Zusammenhalt.
                    </p>
                `,
                ctaTitle: "Mitglied werden",
                ctaDesc: "Unterstützen Sie die Bewegung für eine sichere Zukunft.",
                ctaBtn: "Jetzt Beitreten",
                ctaDisclaimer: "Mit Ihrer Anmeldung akzeptieren Sie unsere Grundsatzerklärung.",
                footerOrg: "Bundesvorstand",
                // New Localized Keys
                navCta: "MITMACHEN",
                footerPrivacy: "Datenschutz",
                footerContact: "Kontakt",
                footerMedia: "Presse",
                successTitle: "REGISTRIERT",
                errorEmpty: "E-Mail ist erforderlich",
                errorInvalid: "Bitte geben Sie eine gültige E-Mail-Adresse ein"
            },

            // Korean: Ethnic Nationalism / Spirit Theme
            'ko': {
                partyName: "민족정기수호회",
                colors: { primary: "#003478", accent: "#C60C30" }, // Taegeuk colors
                heroTagline: "자주 · 독립 · 단결",
                heroTitle: "민족의 자존심을 지키자",
                heroSubtitle: "반만년 역사의 숨결, 우리가 지켜야 할 소중한 유산입니다.",
                manifestoBtn: "강령 보기",
                sectionTitle: "우리의 결의",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        "역사를 잊은 민족에게 미래는 없다."
                    </p>
                    <p class="mb-4">
                        급변하는 국제 정세 속에서 우리의 <strong>민족 정신</strong>이 흔들리고 있습니다. 우리는 단일 민족으로서의 긍지를 되찾고, 외세의 문화적 침투로부터 우리 고유의 가치를 수호해야 합니다.
                    </p>
                    <p class="mb-4">
                        강력한 국가는 확고한 정체성에서 비롯됩니다. 조상들이 물려준 이 땅과 정신을 온전히 후손에게 물려주는 것이야말로 이 시대의 소명입니다.
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        깨어있는 시민들의 동참을 기다립니다.
                    </p>
                `,
                ctaTitle: "함께하기",
                ctaDesc: "민족의 미래를 위한 위대한 여정에 동참하십시오.",
                ctaBtn: "가입 신청",
                ctaDisclaimer: "서명 시 본회의 취지에 동의하는 것으로 간주됩니다.",
                footerOrg: "민족정기수호회 본부",
                // New Localized Keys
                navCta: "가입하기",
                footerPrivacy: "개인정보처리방침",
                footerContact: "문의하기",
                footerMedia: "미디어",
                successTitle: "등록 완료",
                errorEmpty: "이메일을 입력해주세요",
                errorInvalid: "올바른 이메일 주소를 입력해주세요"
            },

             // Spanish: Hispanidad / Tradition Theme
             'es': {
                partyName: "Alianza por la Tradición",
                colors: { primary: "#AA151B", accent: "#F1BF00" }, // Red & Gold (Spain)
                heroTagline: "Dios · Patria · Familia",
                heroTitle: "Defiende Tu Legado",
                heroSubtitle: "El orgullo de nuestra historia es la fuerza de nuestro futuro. No pedimos perdón.",
                manifestoBtn: "Leer Manifiesto",
                sectionTitle: "Nuestra Misión",
                body: `
                    <p class="mb-4 font-serif text-xl leading-relaxed font-bold">
                        "Un pueblo sin memoria es un pueblo sin destino."
                    </p>
                    <p class="mb-4">
                        La Hispanidad es una hermandad espiritual que une a millones, pero hoy nuestros valores fundamentales están bajo ataque. Defendemos la <strong>familia natural</strong>, la unidad nacional y la herencia de nuestra civilización.
                    </p>
                    <p class="mb-4">
                        Nos oponemos a las agendas foráneas que buscan dividirnos. Es hora de levantar la cabeza y sentir orgullo por lo que somos y por lo que construyeron nuestros antepasados.
                    </p>
                    <p class="mb-6 font-bold text-slate-900">
                        Únete a la resistencia cultural.
                    </p>
                `,
                ctaTitle: "Únete a Nosotros",
                ctaDesc: "Sé parte de la recuperación de nuestra identidad.",
                ctaBtn: "Firmar Ahora",
                ctaDisclaimer: "Al unirte, aceptas recibir comunicaciones del partido.",
                footerOrg: "Comité Central de la Alianza",
                // New Localized Keys
                navCta: "ÚNETE",
                footerPrivacy: "Privacidad",
                footerContact: "Contacto",
                footerMedia: "Prensa",
                successTitle: "REGISTRADO",
                errorEmpty: "El correo es obligatorio",
                errorInvalid: "Por favor ingrese un correo válido"
            }
        };

        let currentLang = 'en'; // default

        function detectLanguage() {
            const browserLang = navigator.language || navigator.userLanguage; 
            const lowerLang = browserLang.toLowerCase();
            console.log("Detected raw:", browserLang);

            // Special logic for Chinese variations
            if (lowerLang.startsWith('zh')) {
                // 1. Explicitly Hong Kong
                if (lowerLang === 'zh-hk') {
                    return 'zh-HK';
                }
                // 2. Simplified territories (China, Singapore, Malaysia)
                // 'zh-cn', 'zh-sg', 'zh-my'
                if (lowerLang.includes('cn') || lowerLang.includes('sg') || lowerLang.includes('my')) {
                    return 'zh-CN';
                }
                // 3. Default to Taiwan/Traditional for generic 'zh' or 'zh-tw'
                return 'zh-TW';
            }

            // Fallback to primary code for other languages (en-US -> en, fr-CA -> fr)
            const primaryCode = browserLang.split('-')[0];
            return ideologies[primaryCode] ? primaryCode : 'en';
        }

        function applyTheme(langCode) {
            currentLang = langCode;
            // Safety check: fallback to en if logic fails or undefined
            const content = ideologies[langCode] || ideologies['en'];
            const root = document.documentElement;

            // 1. Update Text Content
            document.title = content.partyName;
            document.getElementById('party-name').textContent = content.partyName;
            document.getElementById('footer-party-name').textContent = content.partyName;
            document.getElementById('hero-tagline').textContent = content.heroTagline;
            document.getElementById('hero-title').textContent = content.heroTitle;
            document.getElementById('hero-subtitle').textContent = content.heroSubtitle;
            document.getElementById('read-manifesto-btn').textContent = content.manifestoBtn;
            document.getElementById('section-title').textContent = content.sectionTitle;
            document.getElementById('main-text').innerHTML = content.body;
            
            document.getElementById('cta-title').textContent = content.ctaTitle;
            document.getElementById('cta-desc').textContent = content.ctaDesc;
            document.getElementById('cta-button').textContent = content.ctaBtn;
            document.getElementById('cta-disclaimer').textContent = content.ctaDisclaimer;
            document.getElementById('copyright-org').textContent = content.footerOrg;

            // New Localized Elements
            document.getElementById('nav-cta').textContent = content.navCta;
            document.getElementById('footer-link-privacy').textContent = content.footerPrivacy;
            document.getElementById('footer-link-contact').textContent = content.footerContact;
            document.getElementById('footer-link-media').textContent = content.footerMedia;
            document.getElementById('success-title').textContent = content.successTitle;

            // 2. Update CSS Variables for Colors
            root.style.setProperty('--primary-color', content.colors.primary);
            root.style.setProperty('--accent-color', content.colors.accent);

            // 3. Localization specific typography adjustments
            if (langCode.startsWith('zh') || langCode === 'ko') {
                // Use Traditional font for TW/HK if available, SC for Simplified
                if (langCode === 'zh-TW' || langCode === 'zh-HK') {
                     document.body.style.fontFamily = "'Noto Sans TC', 'Noto Sans SC', 'sans-serif'";
                } else {
                     document.body.style.fontFamily = "'Noto Sans SC', 'sans-serif'";
                }
                document.getElementById('hero-title').classList.remove('serif-title'); 
            }
        }

        function scrollToSignup() {
            document.getElementById('signup-section').scrollIntoView({behavior: 'smooth'});
        }

        function registerSupport() {
            const emailInput = document.getElementById('email-input');
            const errorMsg = document.getElementById('error-msg');
            const email = emailInput.value.trim();
            const content = ideologies[currentLang];

            // Reset error state
            errorMsg.classList.add('hidden');
            emailInput.classList.remove('border-red-500', 'focus:border-red-500', 'focus:ring-red-500/20');
            
            // Validation Logic
            if (!email) {
                showError(content.errorEmpty);
                return;
            }

            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showError(content.errorInvalid);
                return;
            }

            // If Valid:
            const btn = document.querySelector('button[onclick="registerSupport()"]');
            btn.disabled = true;
            btn.classList.add('opacity-50', 'cursor-not-allowed');
            
            // Simulate API call
            setTimeout(() => {
                document.getElementById('success-msg').classList.remove('hidden');
                document.getElementById('success-msg').classList.add('flex');
            }, 800);
        }

        function showError(message) {
            const errorMsg = document.getElementById('error-msg');
            const emailInput = document.getElementById('email-input');
            
            errorMsg.textContent = message;
            errorMsg.classList.remove('hidden');
            
            emailInput.classList.add('border-red-500', 'focus:border-red-500', 'focus:ring-red-500/20');
            emailInput.focus();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            const lang = detectLanguage();
            applyTheme(lang);
            document.documentElement.lang = lang;
        });

    </script>
</body>
</html>
